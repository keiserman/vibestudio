---
import Layout from "../layouts/Layout.astro";

import { getCollection, getEntry } from "astro:content";
const allProjects = await getCollection("projects");
---

<Layout title="Welcome to Astro.">
  <div class="text-2xl">Hello</div>
  {
    allProjects.map((project) => (
      <a href={project.slug}>
        <img src="" class="square bg-white" />
      </a>
    ))
  }
</Layout>
<script>
  import { gsap } from "gsap";

  const squares = document.querySelectorAll("img");

  document.addEventListener("mousemove", (e) => {
    const mouseX = e.clientX;
    const mouseY = e.clientY;

    squares.forEach((square, index) => {
      gsap.to(square, {
        x: mouseX,
        y: mouseY,
        delay: index * 0.05,
        duration: 0.3,
        ease: "power3.out",
      });
    });
  });
</script>
